## REST API –Ω–∞ Go –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏ –æ –ø–æ–∫—É–ø–∫–∞—Ö


## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–Ω–æ—Å—Ç—å—é **Purchase**:

* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫
* –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ –ø–æ ID
* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π
* –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:

* Echo - –§—Ä–µ–π–º–≤–æ—Ä–∫ HTTP
* –°–£–ë–î PostgreSQL (–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Docker Compose)
* Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

   ```bash
   git clone https://github.com/shoksin/go-REST-API-purchases.git
   cd go-REST-API-purchases
   ```
2. \*\*–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª \*\***`.env`** –≤ –∫–æ—Ä–Ω–µ –∏ –∑–∞–¥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:

   ```env
   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=secret
   DB_NAME=purchases_db
   PORT=8080
   ```
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ Docker Compose**

   ```bash
   docker-compose up -d
   ```

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`.


## üí† –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Makefile

* `make run` ‚Äî –∫–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
* `make build` ‚Äî —Å–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
* `make migrate` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∫ –ë–î
* `make swagger` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
* `make docker-build` ‚Äî —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞
* `make docker-up` ‚Äî –ø–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ Docker Compose


## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å              | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| ------ | ----------------- | ----------------------------- |
| GET    | `/purchases`      | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–∫—É–ø–æ–∫           |
| GET    | `/purchases/{id}` | –î–µ—Ç–∞–ª–∏ –æ–¥–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ –ø–æ ID    |
| POST   | `/purchases`      | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–∫—É–ø–∫—É         |
| PUT    | `/purchases/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –ø–æ ID |
| DELETE | `/purchases/{id}` | –£–¥–∞–ª–∏—Ç—å –ø–æ–∫—É–ø–∫—É –ø–æ ID         |



## üìÅ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080/swagger/index.html
```


## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ api/            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: main.go
‚îú‚îÄ‚îÄ app/                # HTTP-—Ö–µ–Ω–¥–ª–µ—Ä—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ internal/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (models, services)
‚îú‚îÄ‚îÄ middleware/         # Middleware (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ pkg/utils/          # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ swagger/            # Swagger-—Å–±–æ—Ä–∫–∞, —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ docker-compose.yaml # –°–µ—Ä–≤–∏—Å –ë–î –∏ –∏–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
‚îú‚îÄ‚îÄ Makefile            # –°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ go.mod
‚îî‚îÄ‚îÄ go.sum
```
